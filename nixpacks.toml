# Forçar Nixpacks a usar Node.js ao invés de Deno
# (O projeto tem funções Supabase em Deno, mas o app principal é Next.js)

providers = ["node"]

[variables]
NODE_VERSION = "20"

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = [
    "npm run build",
    "cp -r .next/static .next/standalone/.next/static",
    "cp -r public .next/standalone/public"
]

[start]
cmd = "node .next/standalone/server.js"
